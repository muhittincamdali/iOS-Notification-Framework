```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                                                              â•‘
â•‘   â–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•—    â•‘
â•‘   â–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•—â•šâ•â•â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â•šâ•â•â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•‘    â•‘
â•‘   â–ˆâ–ˆâ•”â–ˆâ–ˆâ•— â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘    â•‘
â•‘   â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘    â•‘
â•‘   â–ˆâ–ˆâ•‘ â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘    â•‘
â•‘   â•šâ•â•  â•šâ•â•â•â• â•šâ•â•â•â•â•â•    â•šâ•â•   â•šâ•â•â•šâ•â•     â•šâ•â• â•šâ•â•â•â•â•â•â•šâ•â•  â•šâ•â•   â•šâ•â•   â•šâ•â•    â•‘
â•‘                                                                              â•‘
â•‘                          â–ˆâ–ˆâ•—  â–ˆâ–ˆâ•—â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—                                â•‘
â•‘                          â–ˆâ–ˆâ•‘ â–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘â•šâ•â•â–ˆâ–ˆâ•”â•â•â•                                â•‘
â•‘                          â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â• â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘                                   â•‘
â•‘                          â–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•— â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘                                   â•‘
â•‘                          â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘                                   â•‘
â•‘                          â•šâ•â•  â•šâ•â•â•šâ•â•   â•šâ•â•                                   â•‘
â•‘                                                                              â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

<div align="center">

**The most comprehensive notification framework for iOS. Everything you need for local, remote, and rich notifications.**

[![Swift](https://img.shields.io/badge/Swift-5.9+-F05138?style=for-the-badge&logo=swift&logoColor=white)](https://swift.org)
[![iOS](https://img.shields.io/badge/iOS-15.0+-000000?style=for-the-badge&logo=apple&logoColor=white)](https://developer.apple.com/ios/)
[![visionOS](https://img.shields.io/badge/visionOS-1.0+-5856D6?style=for-the-badge&logo=apple&logoColor=white)](https://developer.apple.com/visionos/)
[![SPM](https://img.shields.io/badge/SPM-Compatible-FA7343?style=for-the-badge&logo=swift&logoColor=white)](https://swift.org/package-manager/)
[![License](https://img.shields.io/badge/License-MIT-green?style=for-the-badge)](LICENSE)
[![CI](https://github.com/muhittincamdali/iOS-Notification-Framework/actions/workflows/ci.yml/badge.svg)](https://github.com/muhittincamdali/iOS-Notification-Framework/actions)

[Features](#-features) â€¢ [Quick Start](#-quick-start) â€¢ [Installation](#-installation) â€¢ [Documentation](#-documentation) â€¢ [Examples](#-examples)

---

### ğŸ† Why NotificationKit?

| Feature | NotificationKit | Others |
|---------|:---------------:|:------:|
| Local Notifications | âœ… | âœ… |
| Remote Push | âœ… | âš ï¸ |
| Rich Media (Images, Video, GIF) | âœ… | âš ï¸ |
| Interactive Actions | âœ… | âœ… |
| A/B Testing | âœ… | âŒ |
| Analytics & Insights | âœ… | âŒ |
| Quiet Hours | âœ… | âŒ |
| Rate Limiting | âœ… | âŒ |
| Notification Channels | âœ… | âŒ |
| Deep Linking | âœ… | âš ï¸ |
| Delivery Optimization | âœ… | âŒ |
| User Preferences | âœ… | âŒ |
| Location-based | âœ… | âš ï¸ |
| Personalization | âœ… | âŒ |

</div>

---

## ğŸ“‹ Table of Contents

- [Features](#-features)
- [Quick Start](#-quick-start)
- [Installation](#-installation)
- [Core Concepts](#-core-concepts)
- [Advanced Features](#-advanced-features)
- [API Reference](#-api-reference)
- [Examples](#-examples)
- [Contributing](#-contributing)

---

## âœ¨ Features

### ğŸ”” Core Notifications
- **Type-Safe Builder Pattern** â€” Compile-time safety with fluent API
- **Rich Media Support** â€” Images, videos, GIFs, and audio attachments
- **Interactive Actions** â€” Buttons, text input, and quick replies
- **Smart Scheduling** â€” Time interval, calendar, and location triggers
- **iOS 15+ Focus Modes** â€” Time Sensitive and Critical alerts

### ğŸ“Š Analytics & Optimization
- **Built-in Analytics** â€” Track opens, interactions, and dismissals
- **Delivery Optimization** â€” ML-powered optimal timing
- **A/B Testing** â€” Test different notification variants
- **Engagement Metrics** â€” Open rates, response times, heatmaps

### ğŸ›ï¸ Advanced Controls
- **Quiet Hours** â€” Respect user's do-not-disturb preferences
- **Rate Limiting** â€” Prevent notification fatigue
- **Notification Channels** â€” Android-style channel management
- **User Preferences** â€” Per-category and topic subscriptions

### ğŸ”— Integration
- **Deep Linking** â€” Navigate users to specific content
- **Personalization** â€” Dynamic content with templates
- **Location-based** â€” Geofence notifications
- **Remote Push Ready** â€” Full APNs integration support

---

## ğŸš€ Quick Start

### 1. Configure on App Launch

```swift
import NotificationKit

@main
struct MyApp: App {
    init() {
        NotificationKit.configure { config in
            config.enableAnalytics = true
            config.quietHours = .nightTime  // 10 PM - 8 AM
            config.rateLimiting = .moderate  // 5/hour, 20/day
            config.urlScheme = "myapp"
        }
    }
}
```

### 2. Request Permission

```swift
// Standard authorization
try await NotificationKit.shared.requestAuthorization()

// Provisional (quiet) authorization
try await NotificationKit.shared.requestProvisionalAuthorization()
```

### 3. Schedule a Notification

```swift
try await NotificationKit.shared.schedule {
    Notification(id: "welcome")
        .title("Welcome! ğŸ‘‹")
        .body("Thanks for downloading our app")
        .sound(.default)
        .trigger(after: .seconds(5))
}
```

**That's it!** ğŸ‰

---

## ğŸ“¦ Installation

### Swift Package Manager

Add to your `Package.swift`:

```swift
dependencies: [
    .package(url: "https://github.com/muhittincamdali/iOS-Notification-Framework.git", from: "2.0.0")
]
```

Or in Xcode: **File â†’ Add Package Dependencies** â†’ Enter the repository URL.

### Requirements

| Platform | Minimum Version |
|----------|-----------------|
| iOS | 15.0+ |
| macOS | 13.0+ |
| tvOS | 15.0+ |
| watchOS | 8.0+ |
| visionOS | 1.0+ |
| Swift | 5.9+ |

---

## ğŸ¯ Core Concepts

### Notification Builder

```swift
let notification = Notification(id: "promo-123")
    .title("Flash Sale! ğŸ”¥")
    .subtitle("24 hours only")
    .body("Up to 50% off on all items")
    .sound(.default)
    .badge(1)
    .category("PROMO")
    .thread("sales")
    .relevanceScore(0.9)
    .timeSensitive()
```

### Trigger Types

```swift
// Immediate
.trigger(.immediate)

// After time interval
.trigger(after: .minutes(30))
.trigger(after: .hours(2))
.trigger(after: .days(1))

// Calendar-based
.daily(at: 9, minute: 0)           // Every day at 9 AM
.weekly(on: .monday, at: 10)       // Every Monday at 10 AM
.monthly(on: 1, at: 9)             // 1st of every month
.at(date: specificDate)            // Specific date

// Location-based (requires CoreLocation)
.trigger(.geofence(
    latitude: 37.7749,
    longitude: -122.4194,
    radius: 100,
    identifier: "office",
    onEntry: true
))
```

### Rich Notifications

```swift
// Image attachment
try await NotificationKit.shared.schedule {
    Notification(id: "product")
        .title("New Arrival!")
        .body("Check out our latest product")
        .image(productImageURL)
}

// Video attachment
.video(videoURL)

// GIF attachment
.gif(gifURL)

// Audio attachment
.audio(audioURL)
```

### Interactive Categories

```swift
// Register category
NotificationKit.shared.register(
    category: NotificationCategory(identifier: "MESSAGE")
        .action(.reply)
        .action(.view)
        .action(
            NotificationAction(identifier: "MARK_READ", title: "Mark as Read")
        )
)

// Use in notification
Notification(id: "msg-1")
    .title("New Message")
    .body("Hey, how are you?")
    .category("MESSAGE")
```

---

## ğŸš€ Advanced Features

### ğŸ“Š Analytics

```swift
// Access analytics
let stats = NotificationKit.shared.analytics.stats

print("Scheduled: \(stats.scheduledCount)")
print("Opened: \(stats.interactedCount)")
print("Open Rate: \(NotificationKit.shared.analytics.openRate * 100)%")

// Get action distribution
let actions = NotificationKit.shared.analytics.actionDistribution

// Export analytics
let jsonData = try NotificationKit.shared.analytics.exportAsJSON()
```

### ğŸ§ª A/B Testing

```swift
// Create experiment
let experiment = ABExperiment.titleTest(
    id: "onboarding-title",
    name: "Onboarding Title Test",
    titleA: "Welcome to the app!",
    titleB: "You're going to love this!"
)

NotificationKit.shared.abTesting.createExperiment(experiment)

// Use in notification
Notification(id: "onboarding")
    .title("Default Title")  // Will be replaced by variant
    .body("Start exploring")
    .abTest("onboarding-title")
```

### ğŸŒ™ Quiet Hours

```swift
// Configure quiet hours
NotificationKit.configure { config in
    // Preset: Night time (10 PM - 8 AM)
    config.quietHours = .nightTime
    
    // Custom configuration
    config.quietHours = QuietHoursConfiguration(
        startTime: "23:00",
        endTime: "07:00",
        activeDays: [.monday, .tuesday, .wednesday, .thursday, .friday]
    )
}

// Bypass for urgent notifications
Notification(id: "urgent")
    .title("Security Alert")
    .bypassQuietHours()
    .critical()
```

### ğŸ“ˆ Rate Limiting

```swift
// Configure rate limiting
NotificationKit.configure { config in
    // Presets
    config.rateLimiting = .conservative  // 2/hour, 10/day
    config.rateLimiting = .moderate      // 5/hour, 20/day
    config.rateLimiting = .relaxed       // 10/hour, 50/day
    
    // Custom
    config.rateLimiting = RateLimitingConfiguration(
        maxPerHour: 3,
        maxPerDay: 15
    )
}

// Bypass for important notifications
Notification(id: "important")
    .title("Order Update")
    .bypassRateLimit()
```

### ğŸ“º Notification Channels

```swift
// Create channels
NotificationKit.shared.channels.create([
    .general,
    .promotions,
    .social,
    .reminders,
    NotificationChannel(
        id: "orders",
        name: "Order Updates",
        description: "Shipping and delivery updates",
        importance: .high
    )
])

// Use channel
Notification(id: "order-shipped")
    .title("Order Shipped!")
    .channel("orders")

// Check/toggle channel
let isEnabled = NotificationKit.shared.channels.isChannelEnabled("promotions")
NotificationKit.shared.channels.disable(id: "promotions")
```

### ğŸ”— Deep Linking

```swift
// Register deep link handlers
NotificationKit.shared.deepLinks.register(path: "/product/*") { context in
    let productId = context.path.split(separator: "/").last
    // Navigate to product
}

NotificationKit.shared.deepLinks.register(path: "/settings") { context in
    // Navigate to settings
}

// Use in notification
Notification(id: "product-update")
    .title("New Features!")
    .deepLink("/product/123?ref=notification")

// Build URLs
let url = NotificationKit.shared.deepLinks.buildURL(
    path: "/product/456",
    params: ["source": "push"]
)
```

### ğŸ‘¤ User Preferences

```swift
// Get/set preferences
let prefs = NotificationKit.shared.preferences

// Global toggle
prefs.isEnabled = true

// Frequency
prefs.frequency = .important  // Only important notifications

// Categories
prefs.setCategoryEnabled("promotions", enabled: false)

// Topics
prefs.subscribe(to: "tech-news")
prefs.unsubscribe(from: "sports")

// Sound/Vibration
prefs.soundEnabled = true
prefs.vibrationEnabled = false

// Preview mode
prefs.previewMode = .whenUnlocked
```

### ğŸ¯ Personalization

```swift
// Create personalization data
let data = PersonalizationData(userName: "John")
    .value("product", "iPhone 15")
    .value("discount", "20%")

// Use in notification
Notification(id: "personal-offer")
    .title("Hey {{name}}! ğŸ‘‹")
    .body("Get {{discount}} off on {{product}}")
    .personalize(data)

// Result: "Hey John! ğŸ‘‹" / "Get 20% off on iPhone 15"
```

### ğŸ“ Location-Based Notifications

```swift
#if canImport(CoreLocation)
import CoreLocation

// Request authorization
LocationNotificationManager.shared.requestAuthorization(always: true)

// Register geofence
let notification = Notification(id: "store-nearby")
    .title("You're near our store!")
    .body("Stop by for exclusive in-store deals")

let geofence = GeofenceNotification(
    identifier: "store-123",
    latitude: 37.7749,
    longitude: -122.4194,
    radius: 200,
    notification: notification
)
.onEntry(true)
.onExit(false)
.name("Downtown Store")

try LocationNotificationManager.shared.register(geofence)
#endif
```

### ğŸ“… Smart Scheduling

```swift
let scheduler = NotificationScheduler()

// Optimal delivery
try await scheduler.scheduleOptimally(
    notification,
    within: .next(hours: 24)
)

// Recurring notifications
let ids = try await scheduler.scheduleRecurring(
    notification,
    pattern: .daily(hour: 9, minute: 0),
    count: 7  // Next 7 days
)

// Snooze
try await scheduler.snooze(
    notificationId: "reminder-1",
    for: .minutes(15)
)

// Batch scheduling
let batchId = try await scheduler.scheduleBatch([
    notification1,
    notification2,
    notification3
])
```

### ğŸ“ˆ Delivery Optimization

```swift
let optimizer = DeliveryOptimizer()

// Get optimal delivery time
let optimalHour = optimizer.optimalHour()
let optimalDay = optimizer.optimalDayOfWeek()
let nextOptimal = optimizer.nextOptimalDeliveryDate()

// Get engagement heatmap
let heatmap = optimizer.engagementHeatmap()
// [0: 0.1, 1: 0.05, ..., 9: 0.8, 10: 0.85, ...]

// Get recommendations
let recommendations = optimizer.getRecommendations()
// ["Best delivery time is around 10:00", "Avoid sending at: 2:00, 3:00, 4:00"]
```

---

## ğŸ“– API Reference

### NotificationKit

| Method | Description |
|--------|-------------|
| `configure(_:)` | Configure global settings |
| `requestAuthorization()` | Request notification permissions |
| `requestProvisionalAuthorization()` | Request quiet notifications |
| `schedule(builder:)` | Schedule using builder pattern |
| `schedule(_:)` | Schedule notification directly |
| `cancel(identifier:)` | Cancel by ID |
| `cancelAll()` | Cancel all pending |
| `pendingNotifications()` | Get pending requests |
| `deliveredNotifications()` | Get delivered notifications |
| `register(category:)` | Register interactive category |
| `setBadge(_:)` | Set badge number |
| `clearBadge()` | Clear badge |
| `registerForRemoteNotifications()` | Register for push |

### Notification Builder

| Method | Description |
|--------|-------------|
| `.title(_:)` | Set title |
| `.subtitle(_:)` | Set subtitle |
| `.body(_:)` | Set body text |
| `.sound(_:)` | Set sound |
| `.badge(_:)` | Set badge number |
| `.category(_:)` | Set category ID |
| `.thread(_:)` | Set thread ID |
| `.trigger(_:)` | Set trigger |
| `.image(_:)` | Add image attachment |
| `.video(_:)` | Add video attachment |
| `.timeSensitive()` | Mark time sensitive |
| `.critical()` | Mark critical |
| `.relevanceScore(_:)` | Set relevance (0-1) |
| `.channel(_:)` | Set channel ID |
| `.abTest(_:)` | Set A/B test ID |
| `.deepLink(_:)` | Set deep link URL |
| `.personalize(_:)` | Apply personalization |
| `.bypassQuietHours()` | Bypass quiet hours |
| `.bypassRateLimit()` | Bypass rate limiting |
| `.priority(_:)` | Set priority level |
| `.expires(at:)` | Set expiration date |

---

## ğŸ“ Project Structure

```
iOS-Notification-Framework/
â”œâ”€â”€ Sources/
â”‚   â””â”€â”€ NotificationKit/
â”‚       â”œâ”€â”€ NotificationKit.swift           # Main API
â”‚       â”œâ”€â”€ Core/
â”‚       â”‚   â”œâ”€â”€ NotificationConfiguration.swift
â”‚       â”‚   â”œâ”€â”€ NotificationAnalytics.swift
â”‚       â”‚   â”œâ”€â”€ NotificationScheduler.swift
â”‚       â”‚   â”œâ”€â”€ DeliveryOptimizer.swift
â”‚       â”‚   â”œâ”€â”€ RateLimiter.swift
â”‚       â”‚   â”œâ”€â”€ QuietHoursManager.swift
â”‚       â”‚   â”œâ”€â”€ ChannelManager.swift
â”‚       â”‚   â”œâ”€â”€ ABTestingEngine.swift
â”‚       â”‚   â”œâ”€â”€ DeepLinkHandler.swift
â”‚       â”‚   â””â”€â”€ UserPreferenceManager.swift
â”‚       â”œâ”€â”€ Models/
â”‚       â”‚   â”œâ”€â”€ Notification.swift
â”‚       â”‚   â”œâ”€â”€ NotificationTrigger.swift
â”‚       â”‚   â””â”€â”€ NotificationCategory.swift
â”‚       â””â”€â”€ Extensions/
â”‚           â”œâ”€â”€ RichNotificationSupport.swift
â”‚           â””â”€â”€ LocationNotificationManager.swift
â”œâ”€â”€ Tests/
â”‚   â””â”€â”€ NotificationKitTests/
â”œâ”€â”€ Documentation/
â””â”€â”€ Package.swift
```

---

## ğŸ§ª Testing

```bash
swift test
```

Run with verbose output:

```bash
swift test --verbose
```

---

## ğŸ¤ Contributing

Contributions are welcome! Please read [CONTRIBUTING.md](CONTRIBUTING.md) first.

1. Fork the repository
2. Create feature branch (`git checkout -b feature/amazing`)
3. Commit changes (`git commit -m 'feat: add amazing feature'`)
4. Push (`git push origin feature/amazing`)
5. Open Pull Request

---

## ğŸ“„ License

MIT License - see [LICENSE](LICENSE) for details.

---

<div align="center">

**[â¬† Back to Top](#-features)**

Made with â¤ï¸ for the iOS community

[![GitHub stars](https://img.shields.io/github/stars/muhittincamdali/iOS-Notification-Framework?style=social)](https://github.com/muhittincamdali/iOS-Notification-Framework/stargazers)
[![GitHub forks](https://img.shields.io/github/forks/muhittincamdali/iOS-Notification-Framework?style=social)](https://github.com/muhittincamdali/iOS-Notification-Framework/network/members)

</div>
